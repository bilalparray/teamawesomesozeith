//Batting Array 2024

const BilalScoreArray = [
  53, 5, 0, 14, 0, 10, 0, 7, 2, 14, 28, 0, 1, 15, 11, 28, 21, 0,
];

const BilalLastFourArray = [21, 0];

// ///////////////////////////////////

const OwaisScoreArray = [
  14, 42, 14, 0, 19, 10, 19, 0, 6, 1, 49, 4, 11, 0, 41, 10, 12, 19,
];

const OwaisLastFourArray = [12, 19];

// /////////////////////////////////////

const SahilScoreArray = [
  4, 10, 60, 26, 42, 6, 42, 0, 18, 25, 5, 18, 18, 59, 82, 0, 20, 8,
];

const SahilLastFourArray = [20, 8];

// /////////////////////////////////////

const EhsaanScoreArray = [
  0, 0, 0, 0, 0, 10, 0, 0, 14, 0, 7, 0, 25, 14, 12, 0, 47,
];

const EhsaanLastFourArray = [0, 47];

// ////////////////////////////////////

const ZahidScoreArray = [
  43, 59, 26, 19, 22, 11, 22, 49, 6, 11, 4, 23, 0, 1, 32, 10, 53, 18,
];

const ZahidLastFourArray = [53, 18];

// /////////////////////////////////////////

const SuhailScoreArray = [
  25, 13, 12, 35, 0, 43, 0, 0, 28, 52, 2, 9, 18, 0, 14, 23, 27, 0,
];

const SuhailLastFourArray = [27, 0];

///////////////////////////////////////////

const IshtiyaqScoreArray = [
  2, 10, 0, 34, 52, 46, 52, 0, 4, 11, 0, 14, 11, 0, 4, 53, 5, 1,
];

const IshtiyaqLastFourArray = [5, 1];

// //////////////////////////////////////////

const MuzamilScoreArray = [
  0, 40, 28, 56, 18, 15, 13, 0, 36, 20, 32, 12, 34, 10, 4, 5, 10, 15,
];

const MuzamilLastFourArray = [10, 15];

// /////////////////////////////////////////

const UbiScoreArray = [
  17, 10, 35, 1, 0, 10, 0, 34, 38, 0, 1, 0, 4, 23, 1, 10, 10, 1,
];

const UbiLastFourArray = [10, 1];

// /////////////////////////////////////////

const LiyaqatScoreArray = [
  0, 5, 13, 3, 13, 14, 13, 0, 58, 21, 10, 8, 6, 32, 0, 4, 0, 11,
];

const LiyaqatLastFourArray = [0, 11];

// ////////////////////////////////////////

const ShowketScoreArray = [
  17, 6, 0, 14, 21, 14, 21, 0, 0, 8, 2, 4, 17, 14, 10, 1, 10, 5,
];

const ShowketLastFourArray = [10, 5];

// ///////////////////////////////////////////

//Balls Faced  Array 2204

const BilalBallsArray = [46, 8, 16, 4, 3, 16, 24, 43, 23, 8];

const OwaisBallsArray = [16, 80, 2, 30, 9, 5, 37, 10, 18, 29];

const SahilBallsArray = [4, 14, 47, 68, 19, 7, 23, 40, 71, 1, 13, 15];

const EhsaanBallsArray = [0, 1, 10, 30, 5, 14, 2, 56];

const ZahidBallsArray = [26, 70, 36, 20, 2, 1, 4, 32, 10, 24, 27];

const SuhailBallsArray = [68, 21, 105, 27, 5, 10, 0, 21, 33, 25, 2];

const IshtiyaqBallsArray = [4, 3, 83, 16, 12, 4, 2, 50, 4, 3];

const MuzamilBallsArray = [1, 65, 58, 17, 33, 34, 12, 15, 5, 33];

const UbiBallsArray = [12, 28, 94, 2, 4, 32, 2, 13, 3];

const LiyaqatBallsArray = [1, 28, 55, 22, 10, 7, 26, 6, 8];

const ShowketBallsArray = [9, 12, 20, 11, 5, 5, 7, 4, 6];

//Wickets  Array 2024

const BilalWicketArray = [2];

const OwaisWicketArray = [2, 1, 5, 3, 3, 3, 1, 4, 3, 4, 2, 4];

const SahilWicketArray = [2];

const EhsaanWicketArray = [1, 2, 1];

const ZahidWicketArray = [0, 1, 2, 2, 1, 1, 3, 1, 2, 1, 2];

const SuhailWicketArray = [0, 3, 2, 2, 3, 2, 2];

const IshtiyaqWicketArray = [1, 1, 3, 4, 1, 3, 1, 2, 1, 6, 3];

const MuzamilWicketArray = [4, 1, 1, 4, 1, 2, 1, 3, 1, 4, 2, 3];

const UbiWicketArray = [0];

const LiyaqatWicketArray = [2, 3, 2, 4, 3, 2, 1, 5];

const ShowketWicketArray = [1];

// strings array for mongodb
// const BilalScoreArray = [
//   "53",
//   "5",
//   "0",
//   "14",
//   "0",
//   "10",
//   "0",
//   "7",
//   "2",
//   "14",
//   "28",
//   "0",
//   "1",
//   "15",
//   "11",
// ];
// const BilalLastFourArray = ["1", "15", "11"];

// const OwaisScoreArray = [
//   "14",
//   "42",
//   "14",
//   "0",
//   "19",
//   "10",
//   "19",
//   "0",
//   "6",
//   "1",
//   "49",
//   "4",
//   "11",
//   "0",
//   "41",
// ];
// const OwaisLastFourArray = ["11", "0", "41"];

// const SahilScoreArray = [
//   "4",
//   "10",
//   "60",
//   "26",
//   "42",
//   "6",
//   "42",
//   "0",
//   "18",
//   "25",
//   "5",
//   "18",
//   "18",
//   "59",
//   "82",
// ];
// const SahilLastFourArray = ["18", "59", "82"];

// const EhsaanScoreArray = [
//   "0",
//   "0",
//   "0",
//   "0",
//   "0",
//   "10",
//   "0",
//   "0",
//   "14",
//   "0",
//   "7",
//   "0",
//   "25",
//   "14",
// ];
// const EhsaanLastFourArray = ["0", "25", "14"];

// const ZahidScoreArray = [
//   "43",
//   "59",
//   "26",
//   "19",
//   "22",
//   "11",
//   "22",
//   "49",
//   "6",
//   "11",
//   "4",
//   "23",
//   "0",
//   "1",
//   "32",
// ];
// const ZahidLastFourArray = ["0", "1", "32"];

// const SuhailScoreArray = [
//   "25",
//   "13",
//   "12",
//   "35",
//   "0",
//   "43",
//   "0",
//   "0",
//   "28",
//   "52",
//   "2",
//   "9",
//   "18",
//   "0",
//   "14",
// ];
// const SuhailLastFourArray = ["18", "0", "14"];

// const IshtiyaqScoreArray = [
//   "2",
//   "10",
//   "0",
//   "34",
//   "52",
//   "46",
//   "52",
//   "0",
//   "4",
//   "11",
//   "0",
//   "14",
//   "11",
//   "0",
//   "4",
// ];
// const IshtiyaqLastFourArray = ["11", "0", "4"];

// const MuzamilScoreArray = [
//   "0",
//   "40",
//   "28",
//   "56",
//   "18",
//   "15",
//   "13",
//   "0",
//   "36",
//   "20",
//   "32",
//   "12",
//   "34",
//   "10",
//   "4",
// ];
// const MuzamilLastFourArray = ["34", "10", "4"];

// const UbiScoreArray = [
//   "17",
//   "10",
//   "35",
//   "1",
//   "0",
//   "10",
//   "0",
//   "34",
//   "38",
//   "0",
//   "1",
//   "0",
//   "4",
//   "23",
//   "1",
// ];
// const UbiLastFourArray = ["4", "23", "1"];

// const LiyaqatScoreArray = [
//   "0",
//   "5",
//   "13",
//   "3",
//   "13",
//   "14",
//   "13",
//   "0",
//   "58",
//   "21",
//   "10",
//   "8",
//   "6",
//   "32",
//   "0",
// ];
// const LiyaqatLastFourArray = ["6", "32", "0"];

// const ShowketScoreArray = [
//   "17",
//   "6",
//   "0",
//   "14",
//   "21",
//   "14",
//   "21",
//   "0",
//   "0",
//   "8",
//   "2",
//   "4",
//   "17",
//   "14",
//   "10",
// ];
// const ShowketLastFourArray = ["17", "14", "10"];

// // Balls Faced Array 2024

// const BilalBallsArray = ["46", "8", "16", "4", "3", "16", "24"];
// const OwaisBallsArray = ["16", "80", "2", "30", "9", "5", "37"];
// const SahilBallsArray = ["4", "14", "47", "68", "19", "7", "23", "40", "71"];
// const EhsaanBallsArray = ["0", "1", "10", "30", "5"];
// const ZahidBallsArray = ["26", "70", "36", "20", "2", "1", "4", "32"];
// const SuhailBallsArray = ["68", "21", "105", "27", "5", "10", "0", "21"];
// const IshtiyaqBallsArray = ["4", "3", "83", "16", "12", "4", "2"];
// const MuzamilBallsArray = ["1", "65", "58", "17", "33", "34", "12", "15"];
// const UbiBallsArray = ["12", "28", "94", "2", "4", "32", "2"];
// const LiyaqatBallsArray = ["1", "28", "55", "22", "10", "7", "26"];
// const ShowketBallsArray = ["9", "12", "20", "11", "5", "5", "7"];

// // Wickets Array 2024

// const BilalWicketArray = ["2"];
// const OwaisWicketArray = ["2", "1", "5", "3", "3", "3", "1", "4", "3", "4"];
// const SahilWicketArray = ["2"];
// const EhsaanWicketArray = ["1"];
// const ZahidWicketArray = ["0", "1", "2", "2", "1", "1", "3", "1", "2"];
// const SuhailWicketArray = ["0", "3", "2", "2", "3"];
// const IshtiyaqWicketArray = ["1", "1", "3", "4", "1", "3", "1", "2", "1", "6"];
// const MuzamilWicketArray = [
//   "4",
//   "1",
//   "1",
//   "4",
//   "1",
//   "2",
//   "1",
//   "3",
//   "1",
//   "4",
//   "2",
// ];
// const UbiWicketArray = ["0"];
// const LiyaqatWicketArray = ["2", "3", "2", "4", "3", "2", "1", "3"];
// const ShowketWicketArray = ["1"];

// code for battingoreder
const batsmanScores = {
  BilalLastFourArray: [21, 0],
  OwaisLastFourArray: [12, 19],
  SahilLastFourArray: [20, 8],
  EhsaanLastFourArray: [0, 47],
  ZahidLastFourArray: [53, 18],
  SuhailLastFourArray: [27, 0],
  IshtiyaqLastFourArray: [5, 1],
  UbiLastFourArray: [10, 1],
  MuzamilLastFourArray: [10, 15],
  LiyaqatLastFourArray: [0, 11],
  ShowketLastFourArray: [10, 5],
};

const currentOrder = [
  "p1",
  "p2",
  "p3",
  "p4",
  "p5",
  "p6",
  "p7",
  "p8",
  "p9",
  "p10",
  "p11",
];

function calculateNewBattingOrder(batsmanScores, currentOrder) {
  // Step 1: Calculate Total Scores
  let totalScores = {};
  for (let player in batsmanScores) {
    totalScores[player] = batsmanScores[player].reduce((a, b) => a + b, 0);
  }

  // Step 2: Sort Players by Total Scores
  let sortedPlayers = Object.entries(totalScores).sort((a, b) => b[1] - a[1]);

  // Step 3: Extract Last 3 from the Original Order and Sort Them
  let p9_p10_p11 = currentOrder.slice(8, 11);
  p9_p10_p11.sort((a, b) => totalScores[b] - totalScores[a]);

  // Step 4: Construct the New Order
  let top8 = sortedPlayers.slice(0, 8).map((player) => player[0]);
  let remainingPlayers = sortedPlayers.slice(8).map((player) => player[0]);
  let newOrder = top8.concat(remainingPlayers);

  // Step 5: Insert Last 3 into the First 8
  p9_p10_p11.forEach((player) => {
    let index = newOrder.indexOf(player);
    if (index > 7) {
      newOrder.splice(index, 1);
      newOrder.splice(7, 0, player);
    }
  });

  return newOrder;
}

function calculateNewOrder() {
  let newOrder = calculateNewBattingOrder(batsmanScores, currentOrder);
  displayOrder(currentOrder, "currentOrderList");
  displayOrder(newOrder, "newOrderList");
  console.log(newOrder);
}

function displayOrder(order, elementId) {
  let orderList = document.getElementById(elementId);
  orderList.innerHTML = "";
  order.forEach((player) => {
    let totalRuns = batsmanScores[player].reduce((a, b) => a + b, 0);
    let li = document.createElement("li");
    li.textContent = `${player} (Total Runs: ${totalRuns}) - Scores: ${batsmanScores[
      player
    ].join(", ")}`;
    orderList.appendChild(li);
  });
}

// Display the initial current order on page load
document.addEventListener("DOMContentLoaded", () => {
  displayOrder(currentOrder, "currentOrderList");
});
